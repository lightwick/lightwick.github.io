---
layout: post
title: introduction/Unix
---

There is a *robots.txt* file for websites to notify webcrawlers

## regex
`^[word]`: lines starting with `[word]`

`/^[word].*$/`: start with `[word]` ending in anything
<br>
`/^[word]$`: this is the same as `/[word]$/`

## Command Injection
- command1 && command2 that will run command2 if command1 succeeds.
- command1 || command2 that will run command2 if command1 fails.
- command1 ; command2 that will run command1 then command2.
- command1 | command2 that will run command1 and send the output of command1 to command2.; *referred to as pipelining*

## Unix
### Bash
- uses `.bash_history` to store previous commands.
- `.bashrc` is loaded on start
- `.bash_profile` gets loaded when users log in via console
 
### find command
`find dir -name fileName`

You need to specify an action that needs to be done after `find`, the default being `-print`
`-exec` would execute commands on the result of `find`.

`find dir -name fileName -exec grep [regex] {} \;`
useful options
- -v: lines of which does not match **[regex]**
https://stackoverflow.com/questions/12420524/why-find-need

### file command
`file` can be used identify a file

### export command
`export FOO=Hello world!`
FOO would now be added to the environment variable

### grep command (global regular expression print)
search plain-text datasets with regular expression
- -A NUM: output trailing NUM lines

### tar zip/unzip files
`tar -xvzf fileName`
`tar -cvzf fileName`
- -x: extract
- -c: create tar file
- -v: verbose
- -z: using gzip
- -f: fileName specified next

### su command
`su [user]`
su stands for **S**ubstitute **u**ser

### openssl
`openssl enc (-d)`
-d option to decrypt files, while not using -d encrypts it

### Password Cracking
*'John the ripper'* is a password cracking software.
You can tell which encryption is used by the followiong prefix.
- **$1$**: MD5
- **$2$ or $2a$**: Blowfish
- **$5$**: SHA-256
- **$6$**: SHA-512

### Tomcat
*'Tomcat'* is used to run java web servers.
**tomcat-users.xml** file includes information about users. Usually, it is read protected.

### MySQL
There might be no password set on the sql itself, while it might be set on the system.
```
mysql -u root
show databases;
use [database];
show tables;
select * from [table];
```
options:
- u: change user
- p: willing to provide password


#### load_file(dir);
If logged onto the sql database, it recognizes you as the owner, thus granting you privileges you didn't have before.
`SELECCT load_file(dir);` will allow you to read files on the server, while in recent versions of MySQL the files you can load with this function has been limited.

### PostgreSQl
- `\list`: list database
- `\c [database]`: select database
- `\d`: list tables

```
CREATE TABLE demo(t text);
COPY demo from '[FILENAME]';
SELECT * FROM demo;
```
give that the user has been given privileges, this will allow the hacker to look through data.

### sudo command
`sudo -u user [file]` can be used to run **file** with different user.
`sudo -l` can be used to list privileges

Say you have privileges to a certain executable to run as the owner, which isn't your file.
You would have all the privileges that file has due to the transitive property.

### vim
`:r[ead]` is used to read in files
`!` is used to force an action; it can be used to execute a bash command by the following `![command]`; e.g. `!ls -la`

### gcc
`gcc -o [OUTPUT] [SOURCE CODE]`

### setuid setgid
setuid and setgid is run for programs to run as the owner of that file.
`chmod +xs [FILE]`

### about file systems and directories
**/var/tmp** does not get cleaned up after each reboot
**/etc/shadow** file contains encrypted passwords of users
## Questions along the way
1. Local file inclusion? 
2. In unix(linux) how is permission for ls denied?
3. https://stackoverflow.com/questions/12420524/why-find-need
4. what is *passwd* file?
5. what is *sticky bit*?
6. what is asymmetric encryption?
7. what is `ps -edf`?
8. what does it mean to have **/bin/false** as shell?
